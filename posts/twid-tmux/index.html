<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta itemprop=name content="This Week I Discovered: Tmux"><meta itemprop=description content="Tmux seems like a natural progression from last week&rsquo;s Vim Minimalism, right? It&rsquo;s associated with the typical Vim power user setup. I remember playing with it back when I first started using Vim as well. The problem I had was why. Vim already has panes, what many other applications would call split windows. And if you use a tiling window manager like i3, you have panes at the application level as well."><meta itemprop=datePublished content="2018-01-21T00:00:00+00:00"><meta itemprop=dateModified content="2018-01-21T00:00:00+00:00"><meta itemprop=wordCount content="1051"><meta itemprop=keywords content="twid,tools,"><meta property="og:title" content="This Week I Discovered: Tmux"><meta property="og:description" content="Tmux seems like a natural progression from last week&rsquo;s Vim Minimalism, right? It&rsquo;s associated with the typical Vim power user setup. I remember playing with it back when I first started using Vim as well. The problem I had was why. Vim already has panes, what many other applications would call split windows. And if you use a tiling window manager like i3, you have panes at the application level as well."><meta property="og:type" content="article"><meta property="og:url" content="https://www.kwyse.com/posts/twid-tmux/"><meta property="article:published_time" content="2018-01-21T00:00:00+00:00"><meta property="article:modified_time" content="2018-01-21T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="This Week I Discovered: Tmux"><meta name=twitter:description content="Tmux seems like a natural progression from last week&rsquo;s Vim Minimalism, right? It&rsquo;s associated with the typical Vim power user setup. I remember playing with it back when I first started using Vim as well. The problem I had was why. Vim already has panes, what many other applications would call split windows. And if you use a tiling window manager like i3, you have panes at the application level as well."><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><title>This Week I Discovered: Tmux</title><link rel=stylesheet href=https://www.kwyse.com/css/style.min.eac77496566fd7d5768fd650ddb0b2b181ca6a2d7c5fdd6fe6b8ba4bf47e566f.css integrity="sha256-6sd0llZv19V2j9ZQ3bCysYHKai18X91v5ri6S/R+Vm8=" crossorigin=anonymous></head><body id=page><header id=site-header class="animated slideInUp"><div class="hdr-wrapper section-inner"><div class=hdr-left><div class=site-branding><a href=https://www.kwyse.com/>The Blog of Krishan Wyse</a></div><nav class="site-nav hide-in-mobile"><a href=https://www.kwyse.com/cv/>CV</a>
<a href=https://www.kwyse.com/posts/>Posts</a></nav></div><div class="hdr-right hdr-icons"><span class="hdr-social hide-in-mobile"><a href=https://twitter.com/KrishanWyse target=_blank rel="noopener me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a href=https://github.com/kwyse/ target=_blank rel="noopener me" title=Github><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://www.linkedin.com/in/krishanwyse/ target=_blank rel="noopener me" title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></span><button id=menu-btn class=hdr-btn title=Menu><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><div id=mobile-menu class="animated fast"><ul><li><a href=https://www.kwyse.com/cv/>CV</a></li><li><a href=https://www.kwyse.com/posts/>Posts</a></li></ul></div><main class="site-main section-inner animated fadeIn faster"><article class=thin><header class=post-header><div class=post-meta><span>21 Jan 2018</span></div><h1>This Week I Discovered: Tmux</h1></header><div class=content><p>Tmux seems like a natural progression from last week&rsquo;s <a href=/posts/twid-vim-minimalism>Vim Minimalism</a>, right?
It&rsquo;s associated with the typical Vim power user setup. I remember playing with
it back when I first started using Vim as well. The problem I had was <em>why</em>. Vim
already has panes, what many other applications would call split windows. And if
you use a tiling window manager like <a href=https://i3wm.org/>i3</a>, you have panes at the application level
as well.</p><p><a href=https://github.com/tmux/tmux/wiki>Tmux</a> fills in the middle ground, operating at the shell session level. When you
launch <code>tmux</code> in a shell session, it will spin up the tmux <em>server</em>, launch the
<em>client</em>, and put you in a <em>session</em> with one <em>window</em> and one <em>pane</em>. You can
spawn as many sessions as you want, detaching and re-attaching among them. They
are independent of each other. Each window belongs to a session and acts similar
to tabs in other applications. Each pane belongs to a window a controls a
particular part of the screen. Like sessions, you can spawn as many windows and
panes as you wish, rearrange them, and move them to other sessions and windows
respectively.</p><p>Why is this useful? Organisation. A key difference between my first trial with
tmux some years ago and this past week is that I now have a job and work more in
the shell. Yes, you can achieve this with a tiling window manager, or even
inside terminals themselves. Both <a href=https://www.iterm2.com/>iTerm2</a> on OS X and <a href=https://gnometerminator.blogspot.co.uk/p/introduction.html>Terminator</a> support panes
and tabs. But tmux is cross-platform, and configuration portability is a big
boon if you work on multiple machines.</p><h2 id=making-it-work-for-you>Making it work for you<a href=#making-it-work-for-you class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>And configurable it is! Read through the man page and you&rsquo;ll see all the
possibilities. Look online and you&rsquo;ll see all the people taking advantage of
that. Perhaps too far sometimes. Vanilla tmux can be unwieldy, but with only a
few modifications it can feel very comfortable.</p><p>The most obvious modification is to change the prefix key. This is the key you
need to tap before most tmux keyboard shortcuts, to prevent conflicts with child
processes. By default it&rsquo;s mapped to <code>Ctrl-B</code>. Many recommend mapping it to
<code>Ctrl-A</code>, which matches the prefix key for <a href=https://www.gnu.org/software/screen/>GNU Screen</a>, a much older terminal
multiplexer. I don&rsquo;t recommend this because it conflicts with Vim&rsquo;s number
incrementation. Maybe that&rsquo;s okay because it&rsquo;s not the most common of
keystrokes, but <a href=http://vim.wikia.com/wiki/Unused%5Fkeys><code>Ctrl-S</code> is free</a>! Given it&rsquo;s just one more key over I think this
binding makes far more sense. Time will tell.</p><p>If you&rsquo;re playing around with your config, adding a mapping that calls
<code>source-file</code> with your config as an argument is invaluable so that you can
quickly test out changes. Adding more vi-like pane-selection mappings is useful,
as is more vi-like copy-mode behaviour like explained <a href=https://sanctum.geek.nz/arabesque/vi-mode-in-tmux/>here</a>. A particularly
great mapping is window reordering. I&rsquo;m surprised this isn&rsquo;t in more configs
online because it&rsquo;s insanely good! I found it in <a href=https://superuser.com/a/552493>this answer on superuser</a>, but
tweaked it so that it supports repeated keys and forces you to use the prefix
key.</p><pre><code class=language-tmux data-lang=tmux>bind-key -r S-Left swap-window -t -
bind-key -r S-Right swap-window -t +
</code></pre><p>Otherwise I try to keep other mappings and remappings to a minimum. Many suggest
to remap the window split commands, like remapping a horizontal split from
<code>&lt;prefix>%</code> to <code>&lt;prefix>|</code>, but I find the visual association unnecessary. I&rsquo;ve
only been using tmux for a week and have already gotten used to the default.</p><p>In a similar vain, I&rsquo;ve kept my status bar minimal. It only contains the session
name and the window list. The current window is highlighted and activity in an
inactive window causes the window index display to change colour. It&rsquo;s clean and
out of the way.</p><p>The remainder of my config is specifying consistent colours across the status
bar, pane borders, pane information display and clock. Yes, you can press
<code>&lt;prefix> T</code> to get a full-pane clock display! Another reason it doesn&rsquo;t need to
be in the status bar. Enabling <code>renumber-windows</code> is useful if you have large
sessions with short-lived windows. Changing <code>base-index</code> and <code>pane-base-index</code>
to 1 will make it easier to select them with the number keys, rather than
reaching over for <code>0</code>. I&rsquo;ve also set the status bar to appear to top because it
can get pretty cluttered down south when vim is also running.</p><h2 id=notice-your-habits>Notice your habits<a href=#notice-your-habits class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>Keegan Lowenstein wrote a great <a href=https://blog.bugsnag.com/tmux-and-vim/>blog post</a> on Vim integration with tmux. One the
tools he mentioned is <a href=https://github.com/benmills/vimux>vimux</a>, a Vim plugin that allows you to interact with tmux
from inside Vim. This is next on my list of things to play around with. Vim
already has pretty good shell integration, so I&rsquo;m sceptical, but his example of
the edit-test-repeat loop and how vimux can help with it is pretty convincing.</p><p>If you have a similar workflow that is as common, then by all means you should
make it easier to perform. Tools like vimux can help, as can a better
understanding of tmux. Maybe down the road you notice it would be great to
always have on-screen vision on the output of a particular shell process. Tmux
supports this out of the box and you can easily add that to the status bar.</p><p>The week wasn&rsquo;t entirely smooth sailing. I&rsquo;ve had trouble getting user-defined
options working. These are options that are prefixed with <code>@</code>. I want to keep my
colour scheme consistent in the file so declaring a custom option would be
ideal. It could also be interesting to only show the status bar when the prefix
key is pressed, and make it vanish again when the subsequent key is
pressed. This seems pretty difficult with tmux alone, but I&rsquo;m sure it&rsquo;s possible
through shell scripting. After all, the status bar can be toggled in this way.</p><p>It can pay off in the long run to keep the configs for new tools small to begin
with. Only use what you know will give you benefit and add more as time goes by
and you discover new things. It&rsquo;s much easier to maintain when you&rsquo;ve added
every line for a reason!</p><p><em>Closing tip</em>: use <code>&lt;prefix> Z</code>! This <em>zooms</em> the active pane to take up the
full size of its containing window. Use the same binding to revert the original
layout. It&rsquo;s great for temporarily getting the big picture if you&rsquo;re working on
a smaller screen.</p></div><hr class=post-end><footer class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://www.kwyse.com/tags/twid>twid</a></span><span class=tag><a href=https://www.kwyse.com/tags/tools>tools</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>1051 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2018-01-21</p></footer></article><div class="post-nav thin"><a class=next-post href=https://www.kwyse.com/posts/five-months-into-hackers-diet/><span class=post-nav-label><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>&nbsp;Newer</span><br><span>Five Month's Into the Hacker's Diet</span></a>
<a class=prev-post href=https://www.kwyse.com/posts/twid-vim-minimalism/><span class=post-nav-label>Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span><br><span>This Week I Discovered: Vim Minimalism</span></a></div><div id=comments class=thin></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2017–2021 <a href=https://www.kwyse.com/>Krishan Wyse</a> &#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></p><p>Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> &#183; Theme <a href=https://github.com/Track3/hermit target=_blank rel=noopener>Hermit</a> &#183; <a href=https://www.kwyse.com/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></p></footer><script src=https://www.kwyse.com/js/bundle.min.4a9a0ac3d2217822c7865b4161e6c2a71de1d70492264337755427898dd718f6.js integrity="sha256-SpoKw9IheCLHhltBYebCpx3h1wSSJkM3dVQniY3XGPY=" crossorigin=anonymous></script></body></html>