<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta itemprop=name content="This Week I Discovered: Vim Minimalism"><meta itemprop=description content="Last month marked four years since I started my dotfiles repository on GitHub. Now it&rsquo;s in a state of disrepair! I had no idea that I hadn&rsquo;t made a single commit to it throughout 2017. I did though, I just didn&rsquo;t push them. There are local changes on every computer that I work with. Some were the results of experiments I later forgot about and others were quickly-needed hacks that I didn&rsquo;t find time to refactor and stabilise."><meta itemprop=datePublished content="2018-01-14T00:00:00+00:00"><meta itemprop=dateModified content="2018-01-14T00:00:00+00:00"><meta itemprop=wordCount content="1003"><meta itemprop=keywords content="twid,tools,"><meta property="og:title" content="This Week I Discovered: Vim Minimalism"><meta property="og:description" content="Last month marked four years since I started my dotfiles repository on GitHub. Now it&rsquo;s in a state of disrepair! I had no idea that I hadn&rsquo;t made a single commit to it throughout 2017. I did though, I just didn&rsquo;t push them. There are local changes on every computer that I work with. Some were the results of experiments I later forgot about and others were quickly-needed hacks that I didn&rsquo;t find time to refactor and stabilise."><meta property="og:type" content="article"><meta property="og:url" content="https://www.kwyse.com/posts/twid-vim-minimalism/"><meta property="article:published_time" content="2018-01-14T00:00:00+00:00"><meta property="article:modified_time" content="2018-01-14T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="This Week I Discovered: Vim Minimalism"><meta name=twitter:description content="Last month marked four years since I started my dotfiles repository on GitHub. Now it&rsquo;s in a state of disrepair! I had no idea that I hadn&rsquo;t made a single commit to it throughout 2017. I did though, I just didn&rsquo;t push them. There are local changes on every computer that I work with. Some were the results of experiments I later forgot about and others were quickly-needed hacks that I didn&rsquo;t find time to refactor and stabilise."><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><title>This Week I Discovered: Vim Minimalism</title><link rel=stylesheet href=https://www.kwyse.com/css/style.min.657bcb7af31123e4156b1a3d2ff60a636717e54ead74f882136b5114cf72b55e.css integrity="sha256-ZXvLevMRI+QVaxo9L/YKY2cX5U6tdPiCE2tRFM9ytV4=" crossorigin=anonymous></head><body id=page><header id=site-header class="animated slideInUp faster"><div class="hdr-wrapper section-inner"><div class=hdr-left><div class=site-branding><a href=https://www.kwyse.com/>The Blog of Krishan Wyse</a></div><nav class="site-nav hide-in-mobile"><a href=https://www.kwyse.com/cv/>CV</a>
<a href=https://www.kwyse.com/posts/>Posts</a>
<a href=https://www.kwyse.com/euler-solutions/>Project Euler Solutions</a></nav></div><div class="hdr-right hdr-icons"><span class="hdr-social hide-in-mobile"><a href=https://github.com/kwyse/ target=_blank rel="noopener me" title=Github><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://www.linkedin.com/in/krishanwyse/ target=_blank rel="noopener me" title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></span><button id=menu-btn class=hdr-btn title=Menu><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><div id=mobile-menu class="animated fast"><ul><li><a href=https://www.kwyse.com/cv/>CV</a></li><li><a href=https://www.kwyse.com/posts/>Posts</a></li><li><a href=https://www.kwyse.com/euler-solutions/>Project Euler Solutions</a></li></ul></div><main class="site-main section-inner animated fadeIn faster"><article class=thin><header class=post-header><div class=post-meta><span>14 Jan 2018</span></div><h1>This Week I Discovered: Vim Minimalism</h1></header><div class=content><p>Last month marked four years since I started my <a href=https://github.com/kwyse/dotfiles>dotfiles</a> repository on GitHub.
Now it&rsquo;s in a state of disrepair! I had no idea that I hadn&rsquo;t made a single
commit to it throughout 2017. I did though, I just didn&rsquo;t push them. There are
local changes on every computer that I work with. Some were the results of
experiments I later forgot about and others were quickly-needed hacks that I
didn&rsquo;t find time to refactor and stabilise. Now it&rsquo;s time to clean it up.</p><p>I came across a <a href="https://www.youtube.com/watch?v=XA2WjJbmmoM">video</a> which explains some lesser-known Vim tips. With just a few
lines of Vimscript, you can moderately match the functionality of some common
Vim plugins.</p><p>The first tip is to add <code>**</code> to the search path when using Vim&rsquo;s <code>find</code>
command. This gives behaviour similar to a fuzzy finder but with the built-in,
kind-of awkward-for-long-lists wildmenu. I think this has to potential to be
used instead of a fuzzy finder for small code bases that have short-ish file
names. If you&rsquo;re working with a monolith, maybe not. Fuzzy finding with the
first letter of each camel-cased word in a class name can be really helpful for
monoliths.</p><p>The second tip is explaining Vim&rsquo;s built in <em>ctags</em> integration for
jump-to-definition functionality. Code completion is covered separately in the
video but ctags supports this as well. Unfortunately it seems like most effort
in this space is now being dedicated towards <a href=https://microsoft.github.io/language-server-protocol/>language server protocols</a>. The <a href=https://github.com/rust-lang-nursery/rls>Rust
Language Server</a> is an implementation of the protocol and has <a href=https://www.ncameron.org/blog/what-the-rls-can-do/>support</a> from the
core team.</p><p>Build integration is explained with Vim&rsquo;s <code>makeprg</code> configuration variable. This
is the external program called when invoking <code>make</code> from inside Vim. For simple
cases it&rsquo;s perfectly sufficient. The video goes on further to explain how to
integrate marked errors with Vim&rsquo;s quickfix list so that you can easily navigate
them. In general, this needs to be done on a per-language basis, so I agree with
the speaker that plugins are useful here.</p><p>Personally, I&rsquo;ve never seen the need for snippets. Maybe I&rsquo;m just using the
wrong languages.</p><p>That leaves file browsing. The speaker talks about <em>netrw</em>, Vim&rsquo;s built-in file
browser. Unfortunately, netrw isn&rsquo;t the most stable piece of software. <a href="https://www.reddit.com/r/vim/comments/22ztqp/why%5Fdoes%5Fnerdtree%5Fexist%5Fwhats%5Fwrong%5Fwith%5Fnetrw/?st=jcetivby&sh=95ada33e">This</a>
Reddit thread talks about some of the alternatives. <a href=https://github.com/scrooloose/nerdtree>NERDTree</a> is the most
frequently recommended and the most popular &ldquo;project draw&rdquo;-type plugin. Such
plugins are an ongoing point of contention within the community, with those that
want to make Vim IDE-like and those that say this is unidiomatic and that Vim
should stick to traditional Unix philosophy: do one thing and do it well. For
Vim, that&rsquo;s editing text. As such, simpler alternatives have been created like
<a href=https://github.com/jeetsukumaran/vim-filebeagle>FileBeagle</a> and <a href=https://github.com/justinmk/vim-dirvish>vim-dirvish</a>.</p><h2 id=deciding-what-vim-should-be>Deciding what Vim should be<a href=#deciding-what-vim-should-be class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>If there&rsquo;s <a href=https://josephg.com/blog/3-tribes/>three camps of coders</a>, you can bet there&rsquo;s be multiple views on
idiomatic Vim configurations. Arguing about it online is all well and good to
see different opinions and help you decide which camp you sit in. Vim, along
with its plugin ecosystem, is completely open and that means you can configure
out however you please.</p><p>For me, I want Vim to be <em>fast</em>. Thinking back on my usage in the last four
years, I&rsquo;m comfortable falling back into the terminal. I used <em>very</em> few of the
plugins I had installed to their full potential. And yet, seeing that delay when
opening Vim over and over again <em>would</em> agitate me.</p><p>Realising that removes the need for many plugins. Most of us probably use Git
everyday. Tim Pope&rsquo;s <a href=https://github.com/tpope/vim-fugitive>fugitive.vim</a> tops many &ldquo;must-have Vim plugins&rdquo; lists. The
problem is that the time you spend interacting with Git is not that much
compared to the time spent reading and writing code. I interact with Git a few
times per day on average, maybe ten times, but I&rsquo;m editing code far more
frequently than that. Enabling it inside Vim seems unnecessary. Sure it might
be helpful to see which branch you&rsquo;re on, but do you change branches that
frequently? It could be useful to see the modifications in the sidebar like
<a href=https://github.com/airblade/vim-gitgutter>vim-gitgutter</a> offers, but how often do you actually make decisions based on
that?</p><p>Instead, I think it makes more sense to use a dedicated tool like <a href=https://jonas.github.io/tig/>tig</a>. You can
think of this like the mode-based philosophy of Vim, but more meta. We were in
<em>editing</em> mode and now we&rsquo;re in <em>review</em> mode, where we check our changes before
committing them. This is the workflow I was already using without realising it,
so it&rsquo;s a natural fit.</p><p>We can take this further. During the orientation of learning a new
codebase, exploring with a file browser is useful. Once you&rsquo;re familiar
with the codebase though, you&rsquo;ll often just want to jump to specific
files. You have a mental map of the codebase in your head. Why include a
file browser then? Instead, we can again use an external tool like
<a href=https://ranger.github.io/>ranger</a>!</p><p>It&rsquo;s likely there are other phases in our workflows that we can delegate to a
specialised tool. Both tig and ranger have Vim integrations available and
delegating to them when they are needed feels natural. It keeps Vim snappy and
focussed on what it&rsquo;s good at.</p><h2 id=less-plugins-more-configuration>Less plugins, more configuration<a href=#less-plugins-more-configuration class=anchor aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>Plugins are designed to be applicable to as many people as possible. They will
support use cases you may never need. Hence I am also trying to instead take
ideas from the plugins I like and configure them inside Vim myself. It&rsquo;s a great
way to learn Vimscript, offers me tailored control on the behaviour, and makes
sure that every time I benchmark Vim&rsquo;s startup time I know why it&rsquo;s behaving the
way it is.</p><p><a href=https://pragprog.com/book/modvim/modern-vim>Modern Vim</a> is due for release next month. I <em>loved</em> Drew Neil&rsquo;s previous book,
<a href=https://pragprog.com/book/dnvim2/practical-vim-second-edition>Practical Vim</a>. Having read it when I&rsquo;d been using Vim for only a few months,
much of it went over my head, but it convinced me that the methodology works. I
will tinker with my configuration for now in the hopes that Modern Vim will soon
enlighten me much like Practical Vim did before it.</p></div><hr class=post-end><footer class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://www.kwyse.com/tags/twid>twid</a></span><span class=tag><a href=https://www.kwyse.com/tags/tools>tools</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>1003 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2018-01-14</p></footer></article><div class="post-nav thin"><a class=next-post href=https://www.kwyse.com/posts/twid-tmux/><span class=post-nav-label><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>&nbsp;Newer</span><br><span>This Week I Discovered: Tmux</span></a>
<a class=prev-post href=https://www.kwyse.com/posts/hugo-two-weeks-in/><span class=post-nav-label>Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span><br><span>Hugo, Two Weeks In</span></a></div><div id=comments class=thin></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2017–2020 <a href=https://www.kwyse.com/>Krishan Wyse</a> &#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></p><p>Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> &#183; Theme <a href=https://github.com/Track3/hermit target=_blank rel=noopener>Hermit</a> &#183; <a href=https://www.kwyse.com/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></p></footer><script src=https://www.kwyse.com/js/bundle.min.4a9a0ac3d2217822c7865b4161e6c2a71de1d70492264337755427898dd718f6.js integrity="sha256-SpoKw9IheCLHhltBYebCpx3h1wSSJkM3dVQniY3XGPY=" crossorigin=anonymous></script></body></html>